@using Microsoft.AspNet.Identity;
@model IEnumerable<Course_Work.Models.OfferViewModel>
@{
    ViewBag.Title = "Index";
}



<div class="container">
    @using (Html.BeginForm("Search", "Offer", FormMethod.Post, new { @class = "form-wrapper cf", style ="width:100%"}))
    {
        foreach (var i in Model)
        {
            <div class="form-group" style="float:left">
                @Html.Label("Category ", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10 ">
                    @Html.DropDownListFor(modelItem => i.categoryId, i.Categories, htmlAttributes: new { @class = "form-control", id = "categoryId", Name = "categoryId" })
                </div>
            </div>
            <div class="form-group " style="float:left">
                @Html.Label("City ", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10 ">
                    @Html.DropDownListFor(modelItem => i.cityId, i.Cities, htmlAttributes: new { @class = "form-control select2", id = "cityId", Name = "cityId" })
                </div>
            </div>

            break;
        }

        <input type="text" style="width:1000px; max-width:none" id="searchText" name="searchText" placeholder="Search here...">
        <button type="submit">Serach</button>
    }
    @foreach (var item in Model)
    {
        if (item.UserID != User.Identity.GetUserId())
        {
            <div class="OfferElement" style="height:160px; padding:20px;">
                <div style="float:left; width: 20%">
                    <img style="height: 100px;" src="@Html.DisplayFor(modelItem => item.FilePath)" />
                </div>
                <div style="float:left; width: 80%;">
                    <h4>@Html.DisplayFor(modelItem => item.Title)</h4>
                    <h6>@Html.DisplayFor(modelItem => item.Description)</h6>
                    <h6>Зарплата/місяць : @Html.DisplayFor(modelItem => item.Price) грн.</h6>
                    <div class="button" id="button-2">
                        <div id="slide"></div>
                        <a class="ourA" href="@Url.Action("MoreInfo", "Offer", new { id = item.OfferId})">Let's Go!</a>
                    </div>
                </div>
                    <hr>
                </div>
        }

    }
</div>

<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>

<script>
    $('.select2').select2();
</script>
